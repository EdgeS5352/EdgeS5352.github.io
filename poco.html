<img src="https://camo.githubusercontent.com/463305f632ac53e1175225902c05540f67cb82d2/68747470733a2f2f692e6c6f6c692e6e65742f323032302f30352f31362f794854737a6c355a723470624542512e6a7067" alt="" data-canonical-src="https://i.loli.net/2020/05/16/yHTszl5Zr4pbEBQ.jpg" style="max-width:100%;"></a></p>
<h4><a id="user-content-power-collector是一个结构简单易操作的类包管理器" class="anchor" aria-hidden="true" href="#power-collector是一个结构简单易操作的类包管理器"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Power Collector是一个结构简单，易操作的类包管理器</h4>
<ul>
<li>访问我的<a href="https://powerlean.top" rel="nofollow">博客</a></li>
<li>若要参考代码及原理，请移步至我的<a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco">网站资料库</a></li>
</ul>
<h2><a id="user-content-快速开始" class="anchor" aria-hidden="true" href="#快速开始"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><g-emoji class="g-emoji" alias="checkered_flag" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c1.png">🏁</g-emoji>快速开始</h2>
<p><code>curl -s powerlean.top/blob/poco.setup | bash</code></p>
<h3><a id="user-content-usagepoco-命令-参数-后缀" class="anchor" aria-hidden="true" href="#usagepoco-命令-参数-后缀"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><g-emoji class="g-emoji" alias="clipboard" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cb.png">📋</g-emoji>Usage：poco [命令] [参数] [后缀]</h3>
<p>命令:</p>
<ul>
<li>help        查询有效参数</li>
<li>install     从目标地址获取指定文件</li>
<li>list        列出所有可供下载的文件</li>
<li>remove      删除指定的可执行文件</li>
<li>search      查找指定文件的描述</li>
</ul>
<p>后缀:</p>
<ul>
<li>-y          跳过确认环节</li>
<li>-s          静默模式，不产生输出</li>
</ul>
<h3><a id="user-content-组成结构" class="anchor" aria-hidden="true" href="#组成结构"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>组成结构</h3>
<table>
<thead>
<tr>
<th>poco的组成部分</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco">poco</a></td>
<td>Power Collector的主体部分</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.setup">poco.setup</a></td>
<td>安装脚本，运行安装更新等操作</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.update">poco.update</a></td>
<td>更新脚本，检测poco主体部分的版本</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.list">poco.list</a></td>
<td>软件包列表，载入各个软件包的描述</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.note">poco.note</a></td>
<td>更新日志，声明更新内容</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco-rescue">poco-rescue</a></td>
<td>修复文件，替换损坏的文件主体</td>
</tr>
<tr>
<td><a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.conf">poco.conf</a></td>
<td>控制文件，存放指向路径</td>
</tr>
</tbody>
</table>
<h3><a id="user-content-部署可用下载源" class="anchor" aria-hidden="true" href="#部署可用下载源"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>部署可用下载源</h3>
<p><strong>Power Collector</strong>原理简单，部署下载源也非常容易，只需要一个有效网站便可部署。</p>
<p><strong>你需要在网站的根目录<code>/</code>下创建两个目录:</strong></p>
<ul>
<li>blob/</li>
<li>tree/</li>
</ul>
<p><em>当然，文件夹也可以设置成其他名称，但需注意将两者进行区分。</em>
<em>请将软件包及其依赖全部存放至<code>blob/</code>目录。</em>
<em><a href="https://github.com/EdgeS5352/Power-Collector/blob/master/README.md#%E4%BE%9D%E8%B5%96%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%96%E5%86%99%E6%A0%BC%E5%BC%8F">单击此处</a>了解<code>tree/</code>目录下的文件编写规范。</em></p>
<p><strong>在<code>blob/</code>目录下创建以下两个文件：</strong></p>
<ul>
<li>poco.conf</li>
<li>poco.list</li>
</ul>
<p><em>请自行编写可执行文件将用户原先的<code>poco.conf</code>替换为你所编写的版本，请按照该文件内的批注规范填写指向地址。</em>
<em>请参考本项目中的<a href="https://github.com/EdgeS5352/EdgeS5352.github.io/blob/master/blob/poco.list">poco.list</a>格式来了解如何编写软件包列表。</em></p>
<h3><a id="user-content-依赖声明文件的编写格式" class="anchor" aria-hidden="true" href="#依赖声明文件的编写格式"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>依赖声明文件的编写格式</h3>
<p>每个软件包都必须对应一个<strong>依赖声明文件</strong>，它们的命名有一个固定的格式：</p>
<p>假设<code>blob/</code>目录下现存放有文件<code>XXX</code>,那么它的对应依赖声明文件必须命名为<code>XXX.tree</code>。</p>
<p><strong>依赖声明文件</strong>的内容也有固定的格式，格式如下:</p>
<p><code>export depends="XXX XXX XXX"</code></p>
<p><strong>实例</strong>:
现有一个名为<code>poco</code>的程序，它需要依赖于<code>poco.conf</code>和<code>poco-rescue</code>才能运行，则需要在它的依赖声明文件<code>poco.tree</code>中编写以下内容:</p>
<p><code>export depends="poco.conf poco-rescue"</code></p>
<p><em>列表中每两个依赖程序名称之间用一个空格分隔。</em></p>
<p>假设某程序不需要任何依赖，则将变量内容留空:</p>
<p><code>export depends=""</code></p>
<p><em>程序不需要依赖的情况下仍然须填写依赖声明文件，否则<code>poco</code>将会被引导到错误的路径。</em></p>
<p><strong>现在你可以开始部署你的下载源了！</strong></p>
