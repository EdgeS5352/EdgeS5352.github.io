---
layout: default
title:  "如何读取配置文件"
date:   2020-05-31 19:37:00
categories: main
---
# 配置文件是什么?

类似pacman.conf,source.list，config.yml之类的文件都属于配置文件，作为用户与计算机程序的中介，是它让我们不必直接面对冗长的程序代码。

# 原理是什么?

利用sed程序从文件中读出配置参数，将其赋值于变量，得到变量后使程序进一步判断。

# 着手编写

在这里提供一个例子，供大家理解运用。

首先，创建一个文件，此处命名为config。

创建另外一个文件，此处命名为`test.sh`,这个文件用于读取`config`文件中的参数。

在`config`中写入我们需要知道的参数:

> password=123456
> Url=https://powerlean.top
> Name=powerlean

在`test.sh`中写入读取命令:

> passwd=`sed '/^password=/!d;s/.*=//' test.sh`#注意，本处是相对路径  
> url=`sed '/^Url=/!d;s/.*=//' test.sh`  
> name=`sed '/^Name=/!d;s/.*=//' test.sh`  
> echo $passwd  
> echo $url 
> echo $name

运行`test.sh`脚本:

> root@localhost:~# bash test.sh
> 123456
> https://powerlean.top
> powerlean 

有趣的事情发生了:`test.sh`准确无误的将所有参数读了出来。

*希望这对你有所启发。*

*本文使用的编程语言为Shell。*

*https://www.gnu.org/software/sed/manual/sed.html*

### The end...
